---
import { Search } from "lucide-react"

import Background from "@/assets/background.svg"
import { getLangFromUrl, useTranslations } from "@/i18n/utils"
import { MenuButton } from "@/components/menu"
import StickyNavBar from "@/components/sticky-navbar"

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
---

<nav class="relative w-full max-w-screen-2xl 2xl:mx-auto">
  <Background
    aria-label={t("navbar.app")}
    role="img"
    class="absolute -z-20 w-full max-w-screen-lg 2xl:mx-auto"
  />

  <div class="mx-auto flex w-full max-w-screen-xl">
    <div class="flex w-full justify-normal md:justify-end">
      <div class="w-full max-w-screen-md px-3 py-5 md:py-10">
        <div
          class="flex items-end border-black pb-2 md:border-b dark:border-white"
        >
          <div class="grow">
            <a
              href="/"
              class="truncate bg-gradient-to-r from-yellow-400 via-rose-400 to-violet-500 bg-clip-text font-mono text-3xl font-extrabold tracking-wider break-words text-transparent"
            >
              {t("navbar.title")}
            </a>
          </div>
          <div
            class="hidden items-center justify-normal space-x-6 tracking-wider md:flex"
          >
            <a
              href="/"
              class="hover:text-muted-foreground text-xl uppercase transition-all duration-300 hover:scale-95"
              >{t("navbar.home")}</a
            >
            <span>/</span>
            <a
              href="/tags"
              class="hover:text-muted-foreground text-xl uppercase transition-all duration-300 hover:scale-95"
              >{t("navbar.tags")}</a
            >
            <span>/</span>
            <a
              href="/about"
              class="hover:text-muted-foreground text-xl uppercase transition-all duration-300 hover:scale-95"
              >{t("navbar.about")}</a
            >
            <span>/</span>
            <a
              href="/contact"
              class="hover:text-muted-foreground text-xl uppercase transition-all duration-300 hover:scale-95"
              >{t("navbar.contact")}</a
            >
            <span>/</span>
            <div>
              <a
                href="/search"
                class="hover:text-muted-foreground flex cursor-pointer items-center text-xl uppercase transition-all duration-300 hover:scale-95"
              >
                {t("navbar.search")}
                <Search className="ml-2 size-5" />
              </a>
            </div>
          </div>
          <div class="flex items-center md:hidden">
            <MenuButton
              lang={lang}
              variant="outline"
              className="hover:text-muted-foreground rounded-none border-x-0 border-t-0 border-b-black bg-transparent px-0 text-lg uppercase transition-all duration-300 hover:bg-transparent dark:border-b-white"
              client:load
            />
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>
<StickyNavBar lang={lang} client:load />
